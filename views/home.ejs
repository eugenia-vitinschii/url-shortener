<!DOCTYPE html>
<html lang="en">

<head>
   <style>
      * {
         padding: 0;
         margin: 0;
         border: 0;
         box-sizing: border-box;
      }

      .url {
         width: 100%;
         height: 100vh;
         background: #262525;
         display: flex;
         justify-content: center;
         align-items: center;
      }

      .container {
         width: 1200px;
         display: flex;
         justify-content: center;
         align-items: start;
         height: 100%;
      }

      .url__wrapper {
         margin-top: 100px;
      }

      .url__maker {
         margin-top: 30px;
      }

      .url__table,
      .url__result {

         margin-top: 50px;
      }

      h1,
      label,
      p,
      h2,
      th,
      td {
         color: #478778;
         text-align: center;
        padding: 10px;
      }

      label {
         font-size: 20px;
      }

      input,
      button {
         background: #478778;
         margin: 10px;
         padding: 5px 20px;
         color: white;
      }

      button:hover {
         background: #000;
      }

      .white {
         color: white;
      }

      button {
         cursor: pointer;
      }
input{
   width: 280px;
}
      th,
      td {
         padding-left: 20px;
      }
   </style>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Home page</title>
</head>

<body>
   <div class="url">
      <div class="container">
         <div class="url__wrapper">
            <h1>Welcome to url shortener</h1>
            <div class="url__maker">
               <form method="POST" action="/home">
                  <label for="url">Enter original url:</label>
                  <input type="text" name="url" placeholder="http://example.com">
                  <button type="submit"> Create </button>
               </form>
            </div>
            <div class="url__result">
               <% if (locals.id) { %>
                  <h2>URL generated: </h2>
                  <p class="white">localhost:8001/url/<%= id %>
                  </p>
                  <% }%>
            </div>
            <div class="url__table">
               <% if (locals.urls) { %>
                  <table>
                     <thead>
                        <th>Number</th>
                        <th>ShortId</th>
                        <th>Redirect To</th>
                        <th> Clicks</th>
                     </thead>
                     <tbody>
                        <% urls.forEach( (url, index)=> { %>
                           <tr>
                              <td>
                                 <%=index+1 %>
                              </td>
                              <td>
                                 localhost:8001/home/<%= url.shortId %>
                              </td>
                              <td>
                                 <%= url.redirectURL %>
                              </td>
                              <td>
                                 <%= url.visitHistory.length %>
                              </td>
                              <% }) %>
                           </tr>

                     </tbody>

                  </table>
                  <% } %>
            </div>

         </div>
      </div>
   </div>
</body>
</html>